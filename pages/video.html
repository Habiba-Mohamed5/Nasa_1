<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Terra: A Visual Journey</title>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --bg-dark: #020617;
            --bg-light: #0f172a;
            --accent-cyan: #0891b2;
            --accent-blue: #2563eb;
            --accent-glow: rgba(8, 145, 178, 0.5);
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --border-color: rgba(56, 189, 248, 0.2);
        }
        body {
            background-color: var(--bg-dark);
            font-family: 'Rajdhani', sans-serif;
            color: var(--text-primary);
            margin: 0;
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px;
        }

        /* --- Header Section --- */
        .header-section {
            text-align: center;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 20px;
            box-sizing: border-box;
        }
        .header-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(15, 23, 42, 0.7), transparent 70%);
            z-index: 1;
        }
        #bg-video {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0.3;
            z-index: 0;
        }
        .header-content { z-index: 2; }
        .header-content h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2.5rem, 6vw, 5rem);
            color: var(--accent-cyan);
            text-shadow: 0 0 20px var(--accent-glow);
            margin: 0;
        }
        .header-content p.subtitle {
            font-size: 1.5rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 20px auto 40px;
        }
        .audio-player {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
        }
        audio { width: 100%; max-width: 400px; }

        /* --- Main Layout --- */
        .video-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 32px;
            align-items: flex-start;
            margin-bottom: 100px;
        }
        .video-player-wrapper {
            border-radius: 16px;
            overflow: hidden;
            background: #000;
            border: 1px solid var(--border-color);
            box-shadow: 0 0 40px var(--accent-glow);
        }
        #main-video { width: 100%; display: block; }
        
        /* --- Chapters Sidebar --- */
        .chapters-sidebar h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        .chapter-item {
            padding: 16px; margin-bottom: 12px; border-radius: 10px;
            background: rgba(30, 41, 59, 0.5); border: 1px solid transparent;
            cursor: pointer; transition: all 0.3s ease;
        }
        .chapter-item:hover { border-color: var(--border-color); transform: translateX(5px); }
        .chapter-item.active {
            background: var(--accent-cyan); color: var(--bg-dark); font-weight: 700;
            box-shadow: 0 0 20px var(--accent-glow);
        }
        .chapter-item span { font-weight: 700; margin-right: 12px; }

        /* --- Generic Section --- */
        .content-section { padding: 0 20px; max-width: 900px; margin: 0 auto 100px auto; }
        .section-title { text-align: center; margin-bottom: 50px; }
        .section-title h2 { font-family: 'Orbitron', sans-serif; font-size: 2.8rem; color: var(--accent-cyan); margin: 0; }
        .content-section p { font-size: 1.2rem; line-height: 1.9; color: var(--text-secondary); margin-bottom: 20px; }

        /* --- Stories Grid --- */
        .stories-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
        .story-card { background: var(--bg-light); border: 1px solid var(--border-color); border-radius: 16px; overflow: hidden; transition: all 0.4s ease-out; }
        .story-card:hover { transform: translateY(-10px); box-shadow: 0 0 30px var(--accent-glow); }
        .story-card .image-container { width: 100%; height: 200px; overflow: hidden; }
        .story-card img { width: 100%; height: 100%; object-fit: cover; display: block; transition: transform 0.4s ease-out; }
        .story-card:hover img { transform: scale(1.1); }
        .story-card-content { padding: 24px; }
        .story-card-content h3 { font-size: 1.5rem; margin: 0 0 10px 0; color: var(--accent-cyan); }
        .story-card-content p { font-size: 1.1rem; line-height: 1.7; color: var(--text-secondary); margin: 0; }
        
        /* --- PDF Container Style --- */
        .pdf-container { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            width: 90vw; 
            max-width: 900px; 
            height: 700px; /* تم تعديل الارتفاع ليكون مناسبًا */
            margin: 0 auto;
        }
        .pdf-container iframe {
            width: 100%; 
            height: 100%; 
            border: 2px solid var(--accent-cyan); 
            border-radius: 12px; 
            box-shadow: 0 0 25px var(--accent-glow);
        }

        @media (max-width: 1024px) {
            .video-layout { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header class="header-section">
        <video id="bg-video" autoplay loop muted playsinline src="./public/terra_story.mp4"></video>
        <div class="header-content">
            <h1>Nino Robot Reports</h1>
            <p class="subtitle">Hello, I am Nino Robot! Come with me on a quick journey to discover the dramatic changes our planet has undergone.</p>
        </div>
    </header>

    <main class="container">
        <div class="video-layout">
            <div class="video-player-main">
                <div class="video-player-wrapper">
                    <video id="main-video" controls src="./public/video.mp4" type="video/mp4"></video>
                </div>
                <div class="audio-player">
                    <audio controls src="./public/narrator_audio.mp3"></audio>
                </div>
            </div>
            <aside class="chapters-sidebar">
                <h2>Video Chapters</h2>
                <div id="chapters-list"></div>
            </aside>
        </div>

        <section class="content-section">
            <div class="section-title">
                <h2>The Tool: NASA's Window to the World</h2>
            </div>
            <p>This is no longer science fiction. Thanks to NASA's efforts, the Terra and Aqua satellites embarked on an unprecedented observation journey. Today, this data is presented to us through the "Worldview" tool, the longest continuous daily global observation record of Earth ever compiled. This record isn't just images; it's a collection of living stories.</p>
        </section>

        <section>
            <div class="section-title"><h2>Stories From Space</h2></div>
            <div class="stories-grid">
                <div class="story-card"><div class="image-container"><img src="https://placehold.co/600x400/ef4444/white?text=Thomas+Fire" alt="Thomas Fire"></div><div class="story-card-content"><h3>Thomas Fire, California</h3><p>Satellite images show the terrifying smoke plume, helping crews track the fire's spread in real-time.</p></div></div>
                <div class="story-card"><div class="image-container"><img src="https://placehold.co/600x400/f97316/white?text=Fires+in+India" alt="Fires in India"></div><div class="story-card-content"><h3>Fires in India</h3><p>MODIS thermal maps reveal numerous hotspots from agricultural fires, illustrating the event's intensity.</p></div></div>
                <div class="story-card"><div class="image-container"><img src="https://placehold.co/600x400/0ea5e9/white?text=Lower+Sesan+Dam" alt="Lower Sesan Dam"></div><div class="story-card-content"><h3>Lower Sesan Dam</h3><p>Photos reveal a dramatic landscape transformation as water submerged vast lands to create an artificial reservoir.</p></div></div>
                <div class="story-card"><div class="image-container"><img src="https://placehold.co/600x400/4f46e5/white?text=Iceland+Volcano" alt="Iceland Volcano"></div><div class="story-card-content"><h3>Iceland Volcano</h3><p>Data shows how satellites tracked ash clouds and volcanic gases, crucial for securing global air traffic.</p></div></div>
                <div class="story-card"><div class="image-container"><img src="https://placehold.co/600x400/0e7490/white?text=Hurricane+Katrina" alt="Hurricane Katrina"></div><div class="story-card-content"><h3>Hurricane Katrina - The Spiral</h3><p>A detailed, dramatic view of the hurricane's enormous size and its eye shortly before making landfall.</p></div></div>
                <div class="story-card"><div class="image-container"><img src="https://placehold.co/600x400/6b7280/white?text=Katrina+Flooding" alt="Hurricane Katrina Flooding"></div><div class="story-card-content"><h3>Hurricane Katrina - Flooding</h3><p>Post-hurricane images provide a sobering comparison of coastal areas submerged by water, highlighting the impact.</p></div></div>
            </div>
        </section>

        <section class="container" style="margin-top: 100px;">
            <div class="section-title">
                <h2>The Terra Book</h2>
                <p style="font-size: 1.2rem; color: var(--text-secondary); max-width: 700px; margin: 10px auto 0;">
Explore the full Terra mission report and its discoveries.
</p>

            </div>
            
            <div class="pdf-container">
                <iframe 
                    src="./public/Terra_Book.pdf" 
                    title="The Terra Book PDF Viewer">
                    <p>لا يمكن لمتصفحك عرض ملفات PDF. يمكنك تحميل الملف بدلاً من ذلك: <a href="./public/Terra_Book.pdf">تحميل Terra Book</a></p>
                </iframe>
            </div>
            </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Interactive Video Logic ---
            const chapters = [ { id: 1, title: "Introduction", startTime: 0 }, { id: 2, title: "The MODIS Instrument", startTime: 10 }];
            const video = document.getElementById('main-video');
            const chaptersList = document.getElementById('chapters-list');
            
            chapters.forEach(chapter => {
                const item = document.createElement('div');
                item.className = 'chapter-item';
                item.dataset.startTime = chapter.startTime;
                item.innerHTML = `<span>${String(chapter.id).padStart(2, '0')}</span>${chapter.title}`;
                chaptersList.appendChild(item);
            });
            
            const chapterItems = document.querySelectorAll('.chapter-item');
            chaptersList.addEventListener('click', (e) => {
                const chapterItem = e.target.closest('.chapter-item');
                if (chapterItem) { 
                    video.currentTime = parseFloat(chapterItem.dataset.startTime); 
                    video.play(); 
                }
            });

            // --- Animations ---
            if (typeof gsap === 'undefined') return;
            gsap.registerPlugin(ScrollTrigger);
            
            gsap.from('.header-content > *', { opacity: 0, y: -30, duration: 1, ease: 'power2.out', stagger: 0.3, delay: 0.5 });
            
            gsap.utils.toArray('.video-layout, .content-section, .stories-grid, .pdf-container, .section-title').forEach(section => {
                gsap.from(section, { scrollTrigger: { trigger: section, start: 'top 85%' }, opacity: 0, y: 50, duration: 1.2, ease: 'power3.out' });
            });

            // ❌ تم حذف منطق Flipbook القديم بالكامل ❌
            
        });
    </script>
</body>
</html>